<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">

    <link rel="stylesheet" type="text/css" href="css/vendor/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">

    <script src="cordova.js"></script>
    <script src='js/vendor/fastclick.js'></script>
    <script src="js/vendor/jquery.min.js"></script>
    <script src="js/vendor/popper.min.js"></script>
    <script src="js/vendor/bootstrap.min.js"></script>
    <script src="js/vendor/solaris-model/dist/solaris-model.min.js"></script>
    <script src="js/vendor/moon.js"></script>

    <title>Spacer</title>
  </head>
  <body id="spacer">
    <!-- Header -->
    <nav class="spacer-header fixed-top navbar navbar-dark">
      <span class="navbar-text text-capitalize" id="spacer-location"></span>
      <span class="navbar-text" id="spacer-credits"></span>
      <span class="navbar-text" id="spacer-cargo"></span>
      <span class="navbar-text" id="spacer-fuel"></span>
      <span class="navbar-text" id="spacer-turn"></span>
    </nav>

    <!-- Content window -->
    <div id="spacer-content" class="container-fluid pt-3 pb-1 mt-5"></div>

    <!-- Navigation -->
    <nav id="spacer-navbar" data-toggle="collapse" data-target="#spacer-nav" class="fixed-bottom navbar navbar-dark navbar-expand-md border-danger border border-left-0 border-right-0 border-bottom-0">
      <span class="navbar-brand">Spacer</span>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#spacer-nav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="spacer-nav">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item"><a href="#" data-name="summary"  data-path="summary.html"     class="nav-link active">Summary</a></li>
          <li class="nav-item"><a href="#" data-name="work"     data-path="work.html"        class="nav-link">Work</a></li>
          <li class="nav-item"><a href="#" data-name="docks"    data-path="commerce.html"    class="nav-link">Commerce</a></li>
          <li class="nav-item"><a href="#" data-name="fabs"     data-path="fabricators.html" class="nav-link">Fabricators</a></li>
          <li class="nav-item"><a href="#" data-name="shipyard" data-path="shipyard.html"    class="nav-link">Shipyard</a></li>
          <li class="nav-item"><a href="#" data-name="nav"      data-path="navigation.html"  class="nav-link">Navigation</a></li>
          <li class="nav-item"><a href="#" data-name="status"   data-path="status.html"      class="nav-link">Status</a></li>
        </ul>
      </div>
    </nav>

    <!-- Libs -->
    <script src="js/components.js"></script>

    <script src="js/physics.js"></script>
    <script src="js/data.js"></script>
    <script src="js/util.js"></script>
    <script src="js/system.js"></script>
    <script src="js/agent/actor.js"></script>
    <script src="js/agent/crafter.js"></script>
    <script src="js/market.js"></script>
    <script src="js/place.js"></script>
    <script src="js/ship.js"></script>
    <script src="js/person.js"></script>
    <script src="js/navcomp.js"></script>

    <script src="js/ui.js"></script>
    <script src="js/workflow.js"></script>
    <script src="js/ui/summary.js"></script>
    <script src="js/ui/status.js"></script>
    <script src="js/ui/plot.js"></script>
    <script src="js/ui/transit.js"></script>
    <script src="js/ui/navigation.js"></script>
    <script src="js/ui/shipyard.js"></script>
    <script src="js/ui/combat.js"></script>

    <script src="js/game.js"></script>

    <!-- Main -->
    <script type="text/javascript">
      const game = new Game;

      $(function() {
        $('#spacer-navbar').on('click', 'a', function(e) {
          e.preventDefault();
          e.stopPropagation();

          if ($(e.target).hasClass('nav-link')) {
            $('#spacer-nav a').removeClass('active');
            $(e.target).addClass('active');
            open($(e.target).data('name'));
          }
        });

        $(window).on('click', (e) => {
          if (!$('#spacer-nav').hasClass('collapsed')) {
            $('#spacer-nav').collapse('hide');
          }
        });

        FastClick.attach(document.body);
      });

      document.addEventListener("deviceready", onDeviceReady, false);

      function onDeviceReady() {
        if (StatusBar.isVisible) {
          StatusBar.hide();
        }
      }
    </script>
  </body>
</html>
