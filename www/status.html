<script type="text/javascript">

$(function() {
  let p = game.player;
  let s = p.ship;

  let row = (lbl, val) => {
    return `<div class="row p-1"><div class="col-sm-3 font-weight-bold">${lbl}</div><div class="col-sm">${val}</div></div>`;
  }

  $('#captain').empty()
    .append(row('Money',     p.money))
    .append(row('Home',      data.bodies[p.home].name))
    .append(row('Faction',   p.faction))
    .append(row('Endurance', `${p.max_acceleration().toFixed(2)} G`));

  $('#ship').empty()
    .append(row('Class',      `<span class="text-capitalize">${s.opt.shipclass}</span>`))
    .append(row('Cargo',      `${s.cargo_used}/${s.cargo_space}`))
    .append(row('Hull',       `${s.shipclass.hull}`))
    .append(row('Armor',      `${s.shipclass.armor}`))
    .append(row('Hardpoints', `${s.shipclass.hardpoints}`))
    .append(row('Mass',       `${csn(Math.floor(s.current_mass()))} tonnes`))
    .append(row('Thrust',     `${csn(s.thrust)} kN`))
    .append(row('Fuel',       `${Math.floor(s.fuel)}/${s.tank}`))
    .append(row('Max burn',   `${csn(s.max_burn_time() * data.hours_per_turn)} hours at maximum thrust`))
    .append(row('Drives',     `${s.shipclass.drives}`))
    .append(row('Drive type', `<span class="text-capitalize">${s.shipclass.drive}</span><p class="form-text text-muted">${data.drives[s.shipclass.drive].desc}</p>`));

  $('#newgame').on('click', () => {open('newgame')});
});

</script>

<div class="card p-3 mb-4">
  <h3 class="card-header">
    Captain
    <span class="float-right">
      <button type="button" class="btn btn-dark" id="newgame">New game</button>
    </span>
  </h3>
  <div class="card-body">
    <div class="card-text p-1" id="captain"></div>
  </div>
</div>

<div class="card p-3">
  <h3 class="card-header">Ship</h3>
  <div class="card-body">
    <div class="card-text p-1" id="ship"></div>
  </div>
</div>
